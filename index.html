<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NaviPark – Find Parking</title>

  <!-- ───── Leaflet assets for main.js ───── -->
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script defer
          src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- ───── Page styles ───── -->
  <style>
    /* ===== reset & layout ===== */
    *{margin:0;padding:0;box-sizing:border-box;}
    body{display:flex;min-height:100vh;font-family:Arial,Helvetica,sans-serif;background:#f6fbfe;}

    /* ===== sidebar ===== */
    .sidebar{
      width:240px;background:#0086c6;color:#fff;
      padding:48px 0 24px;display:flex;flex-direction:column;align-items:center;gap:32px;
    }
    .brand{font-size:32px;font-weight:700;}
    nav{width:100%;}
    nav a{
      display:block;width:calc(100% - 48px);margin:8px 24px;padding:14px 18px;
      text-decoration:none;font-weight:600;border-radius:4px;background:#fff;color:#000;
    }
    nav a.active{background:#d6efff;}

    /* ===== main panel ===== */
    main{flex:1;padding:32px 56px;overflow-y:auto;}
    h1{font-size:28px;text-align:center;margin-bottom:28px;}

    /* controls row */
    .controls{
  display: flex;
  flex-direction: column;
  align-items: center;                 /* center the whole block */
  gap: 16px;
}

.controls > div{
  width: min(92vw, 720px);            /* shared content width */
}

.controls label{
  display: block;
  text-align: center;
  margin-bottom: 12px;                 /* bigger gap to the field */
}

.controls input[type="text"]{
  width: 100%;
  height: 52px;                        /* taller */
  max-width: 720px;                    /* wider */
  padding: 0 16px;
  font-size: 16px;
  border-radius: 8px;
}

/* Make the Search button row use the same centered width */
.actions{
  max-width: min(92vw, 720px);
  margin: 12px auto 24px;              /* centers the row */
  display: flex;
  justify-content: center;
}

    /* accessibility switch */
    .switch{position:relative;display:inline-block;width:46px;height:24px;}
    .switch input{opacity:0;width:0;height:0;}
    .slider{
      position:absolute;inset:0;cursor:pointer;background:#ccc;border-radius:24px;transition:.2s;
    }
    .slider:before{
      content:"";position:absolute;height:18px;width:18px;left:3px;top:3px;background:#fff;border-radius:50%;transition:.2s;
    }
    input:checked + .slider{background:#00b96f;}
    input:checked + .slider:before{transform:translateX(22px);}

    /* distance slider */
    .distance-wrapper{margin:24px 0 36px;position:relative;}
    #distance{width:100%;}
    .distance-wrapper .labels{
      display:flex;justify-content:space-between;font-size:12px;color:#555;margin-top:4px;
    }
    .distance-bubble{
      position:absolute;top:-30px;left:50%;transform:translateX(-50%);
      padding:2px 6px;background:#0086c6;color:#fff;font-size:12px;border-radius:4px;
    }

    .results{
      display:grid;
      grid-template-columns: 2fr 1fr; /* map | KPI */
      gap:32px;
    }
    .big-number{
      font-size:64px; line-height:1; text-align:center; margin:8px 0 6px;
    }
    .big-number.good { color:#0a9157; }  /* higher availability */
    .big-number.ok   { color:#b58900; }
    .big-number.bad  { color:#c0504d; }  /* low availability */
    .muted{
      color:#666; font-size:13px; text-align:center;
    }


    #map{       
        width:100%;
        height:550px;                   /* tweak as you like */
        border:2px solid #0077b3;
        border-radius:4px;
    }

    /* parking cards */
    .card{
      background:#fff;border-radius:8px;padding:18px 24px;margin-bottom:24px;
      box-shadow:0 2px 6px rgba(0,0,0,.05);display:flex;flex-direction:column;gap:6px;
    }
    .card h3{font-size:18px;}
    .card .addr{font-size:13px;color:#666;}
    .card .stats{font-family:monospace;font-size:28px;margin:8px 0;}
    .tag{display:inline-block;padding:2px 6px;font-size:11px;background:#c74242;color:#fff;border-radius:4px;}

    /* .actions{display:flex;justify-content:center;margin:8px 0 24px;} */
    .btn{
      padding: 14px 28px;        /* bigger click area */
      font-size: 15px;           /* larger text */
      border: none;
      border-radius: 8px;
      background: #0086c6;
      color: #fff;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,.1);
    }
    .btn:active{transform:translateY(1px);}
    .btn:disabled{opacity:.6;cursor:not-allowed;}

    /* add to your <style> */
    .is-hidden{ display:none; }

    #summary .card {
      align-items: center;      /* flex cross-axis (horizontal) */
      text-align: center;       /* ensure all text is centered */
    }

  </style>
</head>
<body>
  <!-- ===== sidebar ===== -->
  <aside class="sidebar">
    <div class="brand">NaviPark</div>
    <nav>
      <a href="dashboard.html">Insights</a>
      <a href="index.html" class="active">Find Parking</a>
      <a href="#">Parking Prediction</a>
      <a href="#">Historical Trends</a>
    </nav>
  </aside>

  <!-- ===== main content ===== -->
  <main>
    <h1>Where do you want to park?</h1>

    <!-- controls -->
    <div class="controls">
      <div>
        <label for="loc">Street Name</label>
        <input id="loc" type="text" placeholder="Queen Street" />
      </div>

      <!-- <div>
        <label for="fee">Fee</label>
        <select id="fee">
          <option>Any</option>
          <option>Free</option>
          <option>Paid &lt; $10/hr</option>
          <option>Paid &gt;= $10/hr</option>
        </select>
      </div>

      <div>
        <label>Accessibility</label><br/>
        <label class="switch">
          <input type="checkbox" id="accessible"/>
          <span class="slider"></span>
        </label>
      </div> -->
    </div>

    <!-- distance slider -->
    <!-- <div class="distance-wrapper">
      <input id="distance" type="range" min="50" max="500" step="10" value="200"/>
      <span class="distance-bubble" id="distBubble">200&nbsp;m</span>
      <div class="labels">
        <span>&lt; 50 m</span>
        <span>&gt; 500 m</span>
      </div>
    </div> -->

    <div class="actions">
      <button id="searchBtn" class="btn" type="button">Search</button>
    </div>

    <!-- map + list -->
    <!-- <div class="results"> -->
    <div class="results is-hidden">
      <!-- Live map — main.js will populate -->
      <div id="map"></div>

      <!-- Placeholder cards (you’ll likely generate these dynamically later) -->
      <!-- <section id="parkingList">
        <article class="card">
          <h3>QV Carpark</h3>
          <p class="addr">200 Lonsdale St, Melbourne VIC 3000</p>
          <div class="stats">8 | 200 <span class="tag">Limited</span></div>
          <p>$15/hr</p>
        </article>

        <article class="card">
          <h3>Wilson Parking</h3>
          <p class="addr">80 Lonsdale St, Melbourne VIC 3000</p>
          <div class="stats">120 | 200 <span class="tag">Limited</span></div>
          <p>$20/hr</p>
        </article>

        <article class="card">
          <h3>QV1 Residents Car Park</h3>
          <p class="addr">80 Lonsdale St, Melbourne VIC 3000</p>
          <div class="stats">60 | 200</div>
          <p>$12/hr</p>
        </article>
      </section> -->
      <section id="summary">
        <article class="card" id="summaryCard">
          <h3>Total unoccupied bays</h3>
          <div class="big-number" id="totalCount">—</div>
          <p class="muted" id="summaryLabel">Run a search to see live availability.</p>
        </article>
      
        <!-- NEW Congestion card -->
        <article class="card" id="congestionCard">
          <h3>Congestion rate</h3>
          <div class="big-number" id="congestionPct">—</div>
          <p class="muted" id="congestionLabel">Waiting for a search…</p>
        </article>
      </section>
    </div>
  </main>

  <!-- ===== tiny helper for the distance bubble (pure UI) ===== -->
  <script>
    const range   = document.getElementById('distance');
    const bubble  = document.getElementById('distBubble');
    const update  = () => {
      bubble.textContent = range.value + ' m';
      const pct = (range.value - 50) / (500 - 50);
      bubble.style.left = `calc(${pct * 100}% )`;
    };
    range.addEventListener('input', update); update();
  </script>

  <!-- ===== main ES-module that draws the Leaflet map ===== -->
  <script type="module" src="./main.js"></script>
</body>
</html>
